webpackJsonp([1],{"/oti":function(t,a){},"6PWf":function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("rVsN"),i=e.n(s),n=e("HsqT"),o={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]};var r=e("C7Lr")({name:"App"},o,!1,function(t){e("r+IS")},null,null).exports,c=e("KGCO"),l=e("4YfN"),u=e.n(l),d=e("R4Sj"),m={name:"Header",data:function(){return{flag:!0}},computed:u()({},Object(d.b)(["userInfo","isLogin"])),methods:{hideNavBar:function(){this.flag=!1},slide:function(){this.flag=!this.flag},quit:function(){var t=this;this.$store.dispatch("quit").then(function(){t.$router.push("/home")})},changeSize:function(){document.body.offsetWidth<750?this.flag=!1:this.flag=!0}},created:function(){var t=this;window.onresize=function(){t.changeSize()},t.changeSize()},mounted:function(){this.$store.dispatch("getUserInfo")}},v={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar navbar-default mynav"},[e("div",{staticClass:"container"},[e("div",{staticClass:"navbar-header"},[e("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button"},on:{click:t.slide}},[e("span",{staticClass:"sr-only"},[t._v(t._s(t.flag))]),t._v(" "),e("span",{staticClass:"icon-bar"}),t._v(" "),e("span",{staticClass:"icon-bar"}),t._v(" "),e("span",{staticClass:"icon-bar"})]),t._v(" "),e("router-link",{staticClass:"navbar-brand",attrs:{to:"/home"}},[t._v("自做论坛")])],1),t._v(" "),e("transition",{attrs:{name:"slide-nav"}},[t.flag?e("div",{staticClass:"navbar-collapse",on:{click:t.hideNavBar}},[e("div",{on:{click:function(t){t.stopPropagation()}}},[e("ul",{staticClass:"nav navbar-nav"},[e("li",{staticClass:"active"},[e("a",{attrs:{href:"#"}},[t._v("预留导航")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#"}},[t._v("预留导航")])])]),t._v(" "),e("div",{staticClass:"navbar-form navbar-right"},[e("div",{staticClass:"form-group"},[e("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"查询文章"}})]),t._v(" "),e("button",{staticClass:"btn btn-default",attrs:{type:"submit"}},[t._v("搜索")])]),t._v(" "),t.userInfo.isLogin?e("ul",{staticClass:"nav navbar-nav navbar-right"},[e("li",[e("router-link",{attrs:{to:"/mycenter"}},[t._v("欢迎您： "),e("img",{staticClass:"headerPic",attrs:{src:t.baseURL+t.userInfo.headPicture,alt:""}}),t._v(" "+t._s(t.userInfo.nickName))])],1),t._v(" "),e("li",[e("a",{on:{click:t.quit}},[t._v("退出")])])]):e("ul",{staticClass:"nav navbar-nav navbar-right"},[e("li",[e("router-link",{attrs:{to:"/register"}},[t._v("注册")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"/login"}},[t._v("登录")])],1)])])]):t._e()])],1)])},staticRenderFns:[]};var p=e("C7Lr")(m,v,!1,function(t){e("pqLR")},"data-v-da1f9240",null).exports,f={name:"Pages",props:["totalRows"],data:function(){return{page:0,path:location.hash.substr(2)}}},h={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"pagination"},[t._m(0),t._v(" "),t._l(t.totalRows.totalRows,function(a,s){return e("li",{class:{active:s==t.totalRows.nowPage}},[e("router-link",{attrs:{to:{path:t.path,query:{page:s}}}},[t._v(t._s(a))])],1)}),t._v(" "),t._m(1)],2)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("a",{attrs:{href:"#","aria-label":"Previous"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("«")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("a",{attrs:{href:"#","aria-label":"Next"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("»")])])])}]};var C={name:"ArticleList",props:["actionName"],data:function(){return{}},computed:{myArticle:function(){return void 0==this.$store.state[this.actionName]?[{}]:this.$store.state[this.actionName].dataList},page:function(){return void 0==this.$store.state[this.actionName]?{}:this.$store.state[this.actionName]}},watch:{$route:function(){this.$store.dispatch("getArticleList",{actionName:this.actionName,page:void 0==this.$route.query.page?0:this.$route.query.page})}},mounted:function(){this.$store.dispatch("getArticleList",{actionName:this.actionName,page:void 0==this.$route.query.page?0:this.$route.query.page})},components:{Pages:e("C7Lr")(f,h,!1,function(t){e("Y+CJ")},"data-v-3fec7a49",null).exports}},_={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"list-group"},t._l(t.myArticle,function(a,s){return e("router-link",{key:s,staticClass:"list-group-item",attrs:{to:{name:"ArticleContent",params:{id:a.articleId}}}},[e("div",{staticClass:"pull-right"},[t._v(t._s(a.nickName))]),t._v(t._s(a.title))])}),1),t._v(" "),e("Pages",{attrs:{totalRows:t.page}})],1)},staticRenderFns:[]};var g=e("C7Lr")(C,_,!1,function(t){e("mLIm")},"data-v-0c488310",null).exports,b={name:"Home",data:function(){return{actionName:"getAllArticle"}},components:{Header:p,ArticleList:g}},y={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("Header"),this._v(" "),a("div",{staticClass:"container"},[a("h1",[this._v("文章列表")]),this._v(" "),a("ArticleList",{attrs:{"action-name":this.actionName}})],1)],1)},staticRenderFns:[]};var x=e("C7Lr")(b,y,!1,function(t){e("papG")},"data-v-7cf968a0",null).exports,k={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"bigBG"},[e("div",{staticClass:"box"},[e("h3",{staticClass:"text-center"},[t._v("登录")]),t._v(" "),e("div",{staticClass:"form-horizontal"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"inputEmail3"}},[t._v("账号")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail3",placeholder:"请输入6-12位数字、字母组合"},domProps:{value:t.user},on:{input:function(a){a.target.composing||(t.user=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"inputPassword3"}},[t._v("密码")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword3",placeholder:"请输入您的密码"},domProps:{value:t.pass},on:{input:function(a){a.target.composing||(t.pass=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[t._m(0),t._v(" "),e("div",{staticClass:"col-sm-offset-5 col-sm-3"},[e("div",{staticClass:"checkbox"},[e("router-link",{attrs:{to:""}},[t._v("忘记密码")])],1)])]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-offset-1 col-sm-10"},[e("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"submit"},on:{click:t.login}},[t._v("登录")])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-offset-1 col-sm-10 text-right"},[t._v("\n          没有账号？还不赶紧"),e("router-link",{attrs:{to:"/register"}},[t._v("注册")]),t._v("！\n        ")],1)])])]),t._v(" "),e("my-alert",{attrs:{"show-flag":t.options}})],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-sm-offset-1 col-sm-3"},[a("div",{staticClass:"checkbox"},[a("label",[a("input",{attrs:{type:"checkbox"}}),this._v(" 记住账号\n            ")])])])}]};var N=e("C7Lr")({name:"Login",data:function(){return{user:"",pass:"",pic:"",options:null}},methods:{login:function(){var t=this;this.$ajax.post("/BBS/AdminLoginAndRegister?action=login",{userName:this.user,passWord:this.pass}).then(function(a){200==a.data.code?t.$router.push("home"):(t.options={title:"发生错误！",text:"登录失败："+a.data.err,theme:"alert-danger"},t.flag=!0)})}}},k,!1,function(t){e("/oti")},"data-v-1341e648",null).exports,w={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"bigBG"},[e("div",{staticClass:"container box"},[e("h3",{staticClass:"text-center"},[t._v("注册")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6"},[e("div",{staticClass:"form-horizontal"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"user"}},[t._v("账号")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],staticClass:"form-control",attrs:{type:"email",id:"user",placeholder:"请输入6-12位数字、字母组合"},domProps:{value:t.user},on:{input:function(a){a.target.composing||(t.user=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"pass"}},[t._v("密码")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],staticClass:"form-control",attrs:{type:"password",id:"pass",placeholder:"请输入您的密码"},domProps:{value:t.pass},on:{input:function(a){a.target.composing||(t.pass=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"againpass"}},[t._v("确认密码")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.againpass,expression:"againpass"}],staticClass:"form-control",attrs:{type:"password",id:"againpass",placeholder:"请再次输入您的密码"},domProps:{value:t.againpass},on:{input:function(a){a.target.composing||(t.againpass=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"nickname"}},[t._v("昵称")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],staticClass:"form-control",attrs:{type:"text",id:"nickname",placeholder:"请输入您的昵称，一旦注册将不能更改"},domProps:{value:t.nickname},on:{input:function(a){a.target.composing||(t.nickname=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"truename"}},[t._v("姓名")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.truename,expression:"truename"}],staticClass:"form-control",attrs:{type:"text",id:"truename",placeholder:"请输入您的真实中文姓名"},domProps:{value:t.truename},on:{input:function(a){a.target.composing||(t.truename=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"identificationCard"}},[t._v("身份证号")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.identificationCard,expression:"identificationCard"}],staticClass:"form-control",attrs:{type:"text",id:"identificationCard",placeholder:"请输入您的身份证号码"},domProps:{value:t.identificationCard},on:{input:function(a){a.target.composing||(t.identificationCard=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"phone"}},[t._v("手机号码")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",attrs:{type:"number",id:"phone",placeholder:"请输入您的手机号码"},domProps:{value:t.phone},on:{input:function(a){a.target.composing||(t.phone=a.target.value)}}})])])])]),t._v(" "),e("div",{staticClass:"col-sm-6"},[t._v("\n        这里写些什么呢？先空着吧！\n        "),e("p",[t._v("返回"),e("router-link",{attrs:{to:"/home"}},[t._v("首页")])],1)]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-offset-1 col-sm-10"},[e("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"submit"},on:{click:t.register}},[t._v("注册")])])])])]),t._v(" "),e("my-alert",{attrs:{"show-flag":t.options}})],1)},staticRenderFns:[]};var $=e("C7Lr")({name:"Register",data:function(){return{user:"",pass:"",againpass:"",truename:"",identificationCard:"",phone:"",nickname:"",options:null}},methods:{register:function(){var t=this;this.$ajax.post("/BBS/AdminLoginAndRegister?action=register",{userName:this.user,passWord:this.pass,againPass:this.againpass,trueName:this.truename,identificationCard:this.identificationCard,phone:this.phone,nickName:this.nickname}).then(function(a){200==a.data.code?t.$router.push("/login"):t.options={title:"发生错误！",text:"注册失败！失败原因："+a.data.err,theme:"alert-danger"}})}}},w,!1,function(t){e("YeOP")},"data-v-b2aed070",null).exports,A={name:"Mycenter",data:function(){return{actionName:"getMyArticle"}},computed:u()({userInfo:function(){return this.$store.state.userInfo}},Object(d.b)(["isLogin"])),mounted:function(){this.pic=this.userInfo.headPicture},components:{Header:p,ArticleList:g}},I={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Header"),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col col-md-3 left"},[e("div",{staticClass:"userPic"},[e("img",{attrs:{width:"100%",height:"100%",src:t.baseURL+t.userInfo.headPicture,alt:""}})]),t._v(" "),e("div",{staticClass:"panel panel-default"},[e("div",{staticClass:"panel-heading"},[e("h3",{staticClass:"panel-title text-center"},[t._v(t._s(t.userInfo.nickName))])]),t._v(" "),e("div",{staticClass:"panel-body"},[e("p",[t._v("姓名："+t._s(t.userInfo.trueName))]),t._v(" "),e("p",[t._v("手机号："+t._s(t.userInfo.phone))]),t._v(" "),e("p",[t._v("创建日期："+t._s(t.userInfo.creationDate))]),t._v(" "),e("router-link",{attrs:{to:"/updateMyInfo"}},[t._v("[点击编辑个人信息]")])],1)])]),t._v(" "),e("div",{staticClass:"col col-md-9"},[e("p",[e("router-link",{staticClass:"btn btn-primary",attrs:{to:"/publish"}},[t._v("发布文章")])],1),t._v(" "),e("h1",[t._v("我的文章列表")]),t._v(" "),e("ArticleList",{attrs:{"action-name":t.actionName}})],1)])])],1)},staticRenderFns:[]};var L=e("C7Lr")(A,I,!1,function(t){e("T2pa")},"data-v-2e393a2c",null).exports,P=e("Eq4a"),R=e.n(P),B={name:"PublishArticle",data:function(){return{title:"",context:"",editor:null}},methods:{release:function(){var t=this;console.log(this.editor.txt.html()),this.$ajax.post("/BBS/articleOperate?action=release",{title:this.title,context:this.editor.txt.html()}).then(function(a){200==a.data.code?(alert(a.data.success),t.$router.back()):alert(a.data.err)})}},mounted:function(){this.editor=new R.a(this.$refs.e),this.editor.create()}},S={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("h1",{staticClass:"text-center",attrs:{for:"user"}},[t._v("文章标题")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-10 col-sm-offset-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入文章的标题，不要带有侮辱性词汇"},domProps:{value:t.title},on:{input:function(a){a.target.composing||(t.title=a.target.value)}}})])])]),t._v(" "),e("h1",{staticClass:"text-center"},[t._v("文章内容")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-10 col-sm-offset-1"},[e("div",{ref:"e"})])]),t._v(" "),e("div",{staticClass:"col-sm-offset-1 col-sm-10"},[e("button",{staticClass:"btn btn-block btn-primary",attrs:{type:"submit"},on:{click:t.release}},[t._v("发布")])])])])},staticRenderFns:[]};var F=e("C7Lr")(B,S,!1,function(t){e("Yl8n")},"data-v-37454aaa",null).exports,M={name:"CommentArea",data:function(){return{commentMain:"",flag:[],replyContext:""}},computed:u()({},Object(d.b)(["userInfo","articleContent","getComment"])),methods:{sendReply:function(t,a,e){var s=this;console.log(e),this.$ajax.post("/BBS/commentAction?action=reply",{articleId:t,commentId:a,to_uid:e,content:this.replyContext}).then(function(t){200==t.data.code?(alert(t.data.success),s.$store.dispatch("getComment",s.$route.params.id),s.replyContext=""):alert(t.data.err)})},clickReply:function(t){this.$set(t,"flag",!0)},hideReply:function(t){this.$set(t,"flag",!1)},comment:function(){var t=this;this.$ajax.post("/BBS/commentAction?action=reportComment",{articleId:this.articleContent.articleId,content:this.commentMain}).then(function(a){200==a.data.code?(alert(a.data.success),t.$store.dispatch("getComment",t.$route.params.id),t.commentMain=""):alert(a.data.err)})},praise:function(t){var a=this;this.$ajax.get("/BBS/commentAction?action=praise",{params:{commentId:t}}).then(function(t){200==t.data.code?(alert(t.data.success),a.$store.dispatch("getComment",a.$route.params.id)):alert(t.data.err)})}}},j={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.userInfo.isLogin?e("div",[e("p",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentMain,expression:"commentMain"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.commentMain},on:{input:function(a){a.target.composing||(t.commentMain=a.target.value)}}})]),t._v(" "),e("p",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-primary",on:{click:t.comment}},[t._v("评论")])]),t._v(" "),0==t.getComment.length?e("div",{staticClass:"text-center"},[e("h3",[t._v("暂无评论~")])]):e("div",[e("ul",{staticClass:"media-list"},t._l(t.getComment,function(a,s){return e("li",{staticClass:"media"},[e("div",{staticClass:"media-left"},[e("a",{attrs:{href:"#"}},[e("img",{staticClass:"media-object",attrs:{src:t.baseURL+a.headPicture,alt:"..."}})])]),t._v(" "),e("div",{staticClass:"media-body"},[e("p",{staticClass:"heading"},[e("span",{staticClass:"userName"},[t._v(t._s(a.nickName))]),t._v(" "),e("span",{staticClass:"time"},[t._v(t._s(a.creationDate))])]),t._v(" "),e("p",{staticClass:"context"},[t._v(t._s(a.content))]),t._v(" "),e("p",{staticClass:"pull-left"},[e("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.praise(a.commentId)}}},[e("i",{staticClass:"glyphicon glyphicon-thumbs-up"}),t._v(" 赞 ("+t._s(a.praiseNum)+")")]),t._v(" "),e("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.clickReply(a)}}},[t._v("回复")])]),t._v(" "),e("p",{staticClass:"clearfix"}),t._v(" "),e("transition",{attrs:{name:"reply"}},[a.flag?e("div",{staticClass:"replyBox"},[e("p",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.replyContext,expression:"replyContext"}],staticClass:"form-control",attrs:{cols:"30",rows:"2"},domProps:{value:t.replyContext},on:{input:function(a){a.target.composing||(t.replyContext=a.target.value)}}})]),t._v(" "),e("p",[e("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.sendReply(a.articleId,a.commentId,a.userId)}}},[t._v("确定")]),t._v(" "),e("button",{staticClass:"btn",on:{click:function(e){return t.hideReply(a)}}},[t._v("取消")])])]):t._e()]),t._v(" "),t._l(a.replyList,function(s,i){return e("div",{staticClass:"media"},[e("div",{staticClass:"media-left"},[e("a",{attrs:{href:"#"}},[e("img",{staticClass:"media-object",attrs:{src:t.baseURL+s.headPicture,alt:"..."}})])]),t._v(" "),e("div",{staticClass:"media-body"},[e("p",{staticClass:"heading"},[e("span",{staticClass:"userName"},[t._v(t._s(s.nickName))]),t._v(" 对 "),e("span",[t._v(t._s(s.to_nickName))]),t._v(" 说： "),e("span",{staticClass:"time"},[t._v(t._s(s.creationDate))])]),t._v(" "),e("p",{staticClass:"context"},[t._v(t._s(s.content))]),t._v(" "),e("p",{staticClass:"pull-left"},[e("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.clickReply(s)}}},[t._v("回复")])]),t._v(" "),e("p",{staticClass:"clearfix"}),t._v(" "),e("transition",{attrs:{name:"reply"}},[s.flag?e("div",{staticClass:"replyBox"},[e("p",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.replyContext,expression:"replyContext"}],staticClass:"form-control",attrs:{cols:"30",rows:"2"},domProps:{value:t.replyContext},on:{input:function(a){a.target.composing||(t.replyContext=a.target.value)}}})]),t._v(" "),e("p",[e("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.sendReply(a.articleId,a.commentId,s.from_uid)}}},[t._v("确定")]),t._v(" "),e("button",{staticClass:"btn",on:{click:function(a){return t.hideReply(s)}}},[t._v("取消")])])]):t._e()])],1)])})],2)])}),0)])]):e("div",{staticClass:"alert alert-danger"},[t._v("登录后才能看精彩评论哦~")])])},staticRenderFns:[]};var E=e("C7Lr")(M,j,!1,function(t){e("6PWf")},"data-v-e136944a",null).exports,U={name:"ArticleContent",computed:Object(d.b)(["articleContent","getComment"]),mounted:function(){this.$store.dispatch("getArticleContent",this.$route.params.id)},components:{Header:p,CommentArea:E}},H={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Header"),t._v(" "),e("div",{staticClass:"container"},[e("h1",{staticClass:"page-header text-center"},[t._v(t._s(t.articleContent.title))]),t._v(" "),e("div",{staticClass:"panel panel-default"},[e("div",{staticClass:"panel-heading"},[t._v("发布日期："+t._s(t.articleContent.creationDate))]),t._v(" "),e("div",{staticClass:"panel-body",domProps:{innerHTML:t._s(t.articleContent.context)}}),t._v(" "),e("div",{staticClass:"panel-footer text-right"},[t._v("发布人："+t._s(t.articleContent.nickName))])]),t._v(" "),e("CommentArea")],1)],1)},staticRenderFns:[]};var q=e("C7Lr")(U,H,!1,function(t){e("po7D")},"data-v-6a88d2f6",null).exports,O={name:"UpdateMyInfo",data:function(){return{nickName:""}},methods:{changePic:function(){var t=new FileReader,a=this.$refs.file.files[0];t.readAsDataURL(a);var e=this;t.onload=function(){e.$refs.picBox.innerHTML='<img width="100%" height="100%" src="'+this.result+'" alt=""/>'}},sendHeaderPic:function(){var t=new FormData;t.append("data",this.$refs.file.files[0]),this.$ajax.post("/BBS/psTouch?action=headerPic",t).then(function(t){200==t.data.code?(alert(t.data.success),location.reload()):alert(t.data.err)})},updateNick:function(){this.$ajax.post("/BBS/UserAction?action=updateUserInfo",{nickName:this.nickName}).then(function(t){200==t.data.code?alert(t.data.success):alert(t.data.err)})}}},T={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"container"},[e("button",{staticClass:"btn",on:{click:function(a){return t.$router.back()}}},[t._v("返回")]),t._v(" "),e("div",{staticClass:"form-horizontal"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"nickName"}},[t._v("更改头像")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{ref:"file",staticClass:"file",attrs:{type:"file"},on:{change:t.changePic}}),t._v(" "),e("div",{ref:"picBox",staticClass:"picBox"}),t._v(" "),e("button",{staticClass:"btn btn-success",on:{click:t.sendHeaderPic}},[t._v("上传头像")])])]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-2 control-label",attrs:{for:"nickName"}},[t._v("修改昵称")]),t._v(" "),e("div",{staticClass:"col-sm-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nickName,expression:"nickName"}],staticClass:"form-control",attrs:{type:"email",id:"nickName",placeholder:"请使用数字、字母、下划线、中文"},domProps:{value:t.nickName},on:{input:function(a){a.target.composing||(t.nickName=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-sm-offset-2 col-sm-10"},[e("button",{staticClass:"btn btn-default",attrs:{type:"submit"},on:{click:t.updateNick}},[t._v("更改")])])])])])])},staticRenderFns:[]};var D=e("C7Lr")(O,T,!1,function(t){e("kwwp")},"data-v-7cae7089",null).exports;n.a.use(c.a);var z=new c.a({routes:[{path:"/home",name:"Home",component:x},{path:"/login",name:"Login",component:N},{path:"/register",name:"Register",component:$},{path:"/mycenter",name:"Mycenter",component:L},{path:"/publish",name:"PublishArticle",component:F},{path:"/content/:id",name:"ArticleContent",component:q},{path:"/updateMyInfo",name:"UpdateMyInfo",component:D},{path:"*",redirect:"/home"}]}),Y=e("aozt"),G=e.n(Y),W=e("TBfp"),J=e.n(W),K={getUserInfo:function(t){G.a.post("/BBS/UserAction?action=getUserInfo").then(function(a){200==a.data.code&&t.commit("getUserInfo",a.data.data)})},quit:function(t){var a=t.commit;G.a.get("/BBS/UserAction?action=quit").then(function(t){200==t.data.code?(a("getUserInfo",{}),a("getMyArticle",{})):alert(t.data.err)})},getArticleList:function(t,a){var e=t.commit;G.a.get("/BBS/articleOperate?action="+a.actionName+"&page="+a.page).then(function(t){200==t.data.code?e(a.actionName,t.data):alert(t.data.err)})},getArticleContent:function(t,a){var e=t.dispatch,s=t.commit;return G.a.get("/BBS/articleOperate?action=getArticleContent&articleId="+a).then(function(t){200==t.data.code?(s("getArticleContent",t.data.data),e("getComment",t.data.data.articleId)):alert(t.data.err)})},getComment:function(t,a){var e=t.commit;return G.a.get("/BBS/commentAction?action=getCommentList",{params:{articleId:a}}).then(function(t){200==t.data.code&&e("getComment",t.data.data)})}};n.a.use(d.a);var V=new d.a.Store({state:{userInfo:{},getAllArticle:{},getMyArticle:{},articleContent:{},getComment:{}},getters:J.a,mutations:{getUserInfo:function(t,a){t.userInfo=a},getAllArticle:function(t,a){t.getAllArticle=a.data},getMyArticle:function(t,a){t.getMyArticle=a.data},getArticleContent:function(t,a){t.articleContent=a},getComment:function(t,a){t.getComment=a}},actions:K}),Q={name:"Alert",props:["showFlag"],data:function(){return{flag:!1,time:null}},watch:{showFlag:function(){var t=this;this.flag=!0,clearTimeout(this.time),this.time=setTimeout(function(){t.flag=!1},1500)}}},X={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{position:"absolute",width:"100%"}},[e("transition",{attrs:{name:"alert-show"}},[t.flag?e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header alert",class:t.showFlag.theme},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),e("h4",{staticClass:"modal-title text-center"},[t._v(t._s(t.showFlag?t.showFlag.title:""))])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("p",[t._v(t._s(t.showFlag?t.showFlag.text:""))])])])]):t._e()])],1)},staticRenderFns:[]};var Z=e("C7Lr")(Q,X,!1,function(t){e("pOs0")},"data-v-63db6e15",null).exports;n.a.config.productionTip=!1,n.a.prototype.baseURL="http://270a7054.nat123.cc",n.a.prototype.$ajax=G.a,G.a.defaults.retry=4,G.a.defaults.retryDelay=1e3,G.a.interceptors.response.use(void 0,function(t){var a=t.config;return a&&a.retry?(a.__retryCount=a.__retryCount||0,a.__retryCount>=a.retry?i.a.reject(t):(a.__retryCount+=1,new i.a(function(t){setTimeout(function(){t()},a.retryDelay||1)}).then(function(){return G()(a)}))):i.a.reject(t)}),n.a.component("myAlert",Z),new n.a({el:"#app",router:z,store:V,components:{App:r},template:"<App/>"})},T2pa:function(t,a){},TBfp:function(t,a){},"Y+CJ":function(t,a){},YeOP:function(t,a){},Yl8n:function(t,a){},kwwp:function(t,a){},mLIm:function(t,a){},pOs0:function(t,a){},papG:function(t,a){},po7D:function(t,a){},pqLR:function(t,a){},"r+IS":function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.2fd3a29aabf3a5b2b956.js.map